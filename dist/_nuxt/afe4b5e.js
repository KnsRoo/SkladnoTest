(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(t,e,n){"use strict";n.r(e);n(4),n(3),n(1),n(5),n(2),n(6);var r=n(0),c=n(57);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={methods:l(l({},Object(c.b)("user",["LOGOUT"])),{},{logout:function(){this.LOGOUT(),this.$router.push("/")}})},f=(n(240),n(43)),component=Object(f.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-expand-md fixed-top navbar-dark bg-dark"},[n("div",{staticClass:"container-fluid"},[n("nuxt-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("Лента новостей")]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarCollapse"}},[n("ul",{staticClass:"navbar-nav me-auto mb-2 mb-md-0"},[n("li",{staticClass:"nav-item"},[n("nuxt-link",{staticClass:"nav-link",attrs:{exact:"","active-class":"active",to:"/admin"}},[t._v("Панель Управления")])],1),t._v(" "),n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link cp",on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Выйти")])])])])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],!1,null,null,null);e.default=component.exports},138:function(t,e,n){"use strict";n.r(e);var r=n(43),component=Object(r.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-expand-md fixed-top navbar-dark bg-dark"},[n("div",{staticClass:"container-fluid"},[n("nuxt-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("Лента новостей")]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarCollapse"}},[n("ul",{staticClass:"navbar-nav me-auto mb-2 mb-md-0"},[n("li",{staticClass:"nav-item"},[n("nuxt-link",{staticClass:"nav-link",attrs:{exact:"","active-class":"active",to:"/signin"}},[t._v("Войти")])],1),t._v(" "),n("li",{staticClass:"nav-item"},[n("nuxt-link",{staticClass:"nav-link",attrs:{exact:"","active-class":"active",to:"/signup"}},[t._v("Регистрация")])],1)])])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],!1,null,null,null);e.default=component.exports},182:function(t,e,n){var content=n(241);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(69).default)("b9fccd22",content,!0,{sourceMap:!1})},203:function(t,e,n){"use strict";var r=n(138),c=n(137),o={components:{NavBar:r.default,NavBarAdmin:c.default},computed:{loggedIn:function(){return!!this.$store.getters["user/USER"]}}},l=n(43),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loggedIn?n("NavBarAdmin"):n("NavBar"),t._v(" "),n("Nuxt")],1)}),[],!1,null,null,null);e.a=component.exports;installComponents(component,{NavBarAdmin:n(137).default,NavBar:n(138).default})},204:function(t,e,n){n(205),t.exports=n(206)},240:function(t,e,n){"use strict";n(182)},241:function(t,e,n){var r=n(68)(!1);r.push([t.i,".cp{cursor:pointer}",""]),t.exports=r},242:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return o})),n.d(e,"actions",(function(){return l})),n.d(e,"mutations",(function(){return v})),n.d(e,"getters",(function(){return f}));var r=n(17),c=(n(9),n(101),n(56),n(55)),o=function(){return{news:[],prev:null,next:null}},l={FETCH_NEWS:function(t,link){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.commit,n.next=3,e.$axios.$get(link);case 3:c=n.sent,r("SET_NEWS",c);case 5:case"end":return n.stop()}}),n)})))()},PATCH_NEW:function(t,data){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,link,l,header;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.dispatch,(o=new FormData).append("title",data.title),o.append("text",data.text),o.append("visible",0==data.visible?0:1),data.file&&o.append("file",data.file),2==data.visible&&o.append("publicationDate",data.publicationDate),link=c.a.create,data.id&&(link=c.a.update(data.id)),l=JSON.parse(localStorage.getItem("jwt")),header="".concat(l.token_type," ").concat(l.access_token),n.next=13,e.$axios.$post(link,o,{headers:{"Content-Type":"multipart/form-data",Authorization:header}});case 13:return n.sent,n.next=16,r("FETCH_NEWS",data.link);case 16:case"end":return n.stop()}}),n)})))()},DEL_NEW:function(t,data){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,header;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.dispatch,o=JSON.parse(localStorage.getItem("jwt")),header="".concat(o.token_type," ").concat(o.access_token),n.next=5,e.$axios.$delete(c.a.delete(data.id),{},{headers:{"Content-Type":"multipart/form-data",Authorization:header}});case 5:return n.sent,n.next=8,r("FETCH_NEWS",data.link);case 8:case"end":return n.stop()}}),n)})))()}},v={SET_NEWS:function(t,data){data._links.prev?t.prev=data._links.prev:t.prev=null,data._links.next?t.next=data._links.next:t.next=null,t.news=data._embedded.items}},f={NEWS:function(s){return s.news},PREV:function(s){return s.prev},NEXT:function(s){return s.next}}},243:function(t,e,n){"use strict";n.r(e),n.d(e,"state",(function(){return v})),n.d(e,"actions",(function(){return f})),n.d(e,"mutations",(function(){return d})),n.d(e,"getters",(function(){return m}));var r=n(17),c=(n(56),n(9),n(18),n(129)),o=n.n(c),l=n(55),v=function(){return{user:{}}},f={FETCH_USER:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,c,header,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.commit,c=JSON.parse(localStorage.getItem("jwt"))){n.next=4;break}return n.abrupt("return");case 4:return header="".concat(c.token_type," ").concat(c.access_token),n.next=7,e.$axios.$post(l.a.check,{},{headers:{Authorization:header}});case 7:o=n.sent,r("SET_USER",o);case 9:case"end":return n.stop()}}),n)})))()},REGISTRATION:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.$axios.$post(l.a.registration,o.a.stringify(e));case 2:if("Successfully registration!"==t.sent.message){t.next=5;break}return t.abrupt("return",!1);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})))()},LOGIN:function(t,data){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,c,v;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.dispatch,t.commit,c=t.state,n.next=3,e.$axios.$post(l.a.login,o.a.stringify(data),{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}});case 3:return v=n.sent,localStorage.setItem("jwt",JSON.stringify(v)),n.next=7,r("FETCH_USER");case 7:if(c.user.name){n.next=9;break}return n.abrupt("return",!1);case 9:return n.abrupt("return",!0);case 10:case"end":return n.stop()}}),n)})))()},LOGOUT:function(t){var e=t.commit;localStorage.removeItem("jwt"),e("REM_USER")}},d={SET_USER:function(t,data){t.user=data},REM_USER:function(t,data){t.user={}}},m={USER:function(s){return s.user.name}}},253:function(t,e){},55:function(t,e,n){"use strict";n(9);e.a={published:"".concat("http://test.local","/app/api/news/"),all:"".concat("http://test.local","/app/api/news/all"),create:"".concat("http://test.local","/app/api/news/create"),update:function(t){return"".concat("http://test.local","/app/api/news/update/").concat(t)},get:function(t){return"".concat("http://test.local","/app/api/news/get/").concat(t)},delete:function(t){return"".concat("http://test.local","/app/api/news/delete/").concat(t)},login:"".concat("http://test.local","/app/api/auth/login"),registration:"".concat("http://test.local","/app/api/auth/registration"),check:"".concat("http://test.local","/app/api/auth/me")}}},[[204,10,1,11]]]);